function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=t.parcelRequire3cde;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequire3cde=r),r.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){var n=i.default(e,t,"get");return o.default(e,n)};var i=u(r("fExtF")),o=u(r("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t,n){d.default(e,t),t.set(e,n)};var c,d=(c=r("7K24o"))&&c.__esModule?c:{default:c};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t,n){var s=f.default(e,t,"set");return w.default(e,s,n),n};var f=p(r("fExtF")),w=p(r("3LGG3"));function p(e){return e&&e.__esModule?e:{default:e}}var v=new WeakMap;class g{watch(t){if(e(a)(this,v).shows.find((e=>e.name===t))){let n=0;if(void 0!==e(a)(this,v).viewsByShowNames.get(t))return n=e(a)(this,v).viewsByShowNames.get(t)+1,void e(a)(this,v).viewsByShowNames.set(t,n);e(a)(this,v).viewsByShowNames.set(t,1)}else console.log(`Can't find '${t}' in streaming service ${e(a)(this,v).name}`)}getRecommendationTrending(){}getRecommendationByGenre(e){}constructor(t){e(l)(this,v,{writable:!0,value:void 0}),e(h)(this,v,t)}}var m=new WeakMap;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t){_.default(e,t),t.add(e)};var _=function(e){return e&&e.__esModule?e:{default:e}}(r("7K24o"));var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var D=new WeakMap,x=new WeakMap,O=new WeakSet;function S(e){const t=[];for(let n of e.keys())t.push(n);return t.length>10&&(t=t.slice(0,10)),t}class P{getDuration(){}constructor(){e(M)(this,"name",void 0),e(M)(this,"genre",{}),e(M)(this,"releaseDate",void 0)}}var j=new WeakMap,E=new WeakSet;function k(){return e(a)(this,j).reduce(((e,t)=>e+t.duration),0)}class N extends P{getDuration(){return this.duration}constructor({name:e,releaseDate:t,duration:n}){super(),this.name=e,this.releaseDate=t,this.duration=n}}const T=new class extends P{getDuration(){return this.duration}constructor({name:e,genre:t,releaseDate:n,duration:s}){super(),this.name=e,this.genre[e]=t,this.releaseDate=n,this.duration=s}}({name:"Pirates of the Caribbean: The Curse of the Black Pearl",genre:"fantasy",releaseDate:new Date("July 9, 2003"),duration:143}),B=new class extends P{setEpisodes(t){e(h)(this,j,[...t])}get episodes(){return e(a)(this,j)}getDuration(){return this.duration=e(b)(this,E,k).call(this),this.duration}constructor({name:t,genre:n,releaseDate:s}){super(),e(y)(this,E),e(l)(this,j,{writable:!0,value:[]}),this.name=t,this.genre[t]=n,this.releaseDate=s}}({name:"Rick and Morty",genre:"science fiction sitcom",releaseDate:new Date("December 2, 2013")}),G=[new N({name:"Pilot",releaseDate:new Date("December 2, 2013"),duration:15}),new N({name:"Lawnmower Dog",releaseDate:new Date("December 9, 2013"),duration:17}),new N({name:"Anatomy Park",releaseDate:new Date("December 16, 2013"),duration:13})];B.setEpisodes(G);const R=new class{addShow(t){e(a)(this,x).push(t)}get name(){return e(a)(this,D)}get shows(){return e(a)(this,x)}getMostViewedShowsOfYear(t){const n=e(a)(this,x).filter((e=>e.releaseDate.getFullYear()===t)),s=n.map((e=>e.name)),r=new Map;if(this.viewsByShowNames.forEach(((e,t)=>{s.includes(t)&&r.set(t,e)})),0!==r.size){const t=new Map([...r.entries()].sort(((e,t)=>t[1]-e[1]))),s=[],a=e(b)(this,O,S).call(this,t);for(let e=0;e<n.length;e++)a.includes(n[e].name)&&s.push(n[e]);return s.length>10?(s=s.slice(0,10),s):s}return"There is no shows released in this year"}getMostViewedShowsOfGenre(t){const n=e(a)(this,x).filter((e=>Object.values(e.genre)[0]===t)),s=n.map((e=>e.name)),r=new Map;if(this.viewsByShowNames.forEach(((e,t)=>{s.includes(t)&&r.set(t,e)})),0!==r.size){const t=new Map([...r.entries()].sort(((e,t)=>t[1]-e[1]))),s=[],a=e(b)(this,O,S).call(this,t);for(let e=0;e<n.length;e++)a.includes(n[e].name)&&s.push(n[e]);return s.length>10?(s=s.slice(0,10),s):s}return"There is no shows by this genre"}constructor(t){e(y)(this,O),e(l)(this,D,{writable:!0,value:void 0}),e(l)(this,x,{writable:!0,value:[]}),e(M)(this,"viewsByShowNames",new Map),e(h)(this,D,t)}}("Netflix");R.addShow(T),R.addShow(B);const W=new class{subscribe(t){const n=new g(t);return e(a)(this,m).push(n),n}get subscriptions(){return e(a)(this,m)}constructor(){e(l)(this,m,{writable:!0,value:[]})}};W.subscribe(R),W.subscriptions[0].watch(T.name),W.subscriptions[0].watch(T.name),W.subscriptions[0].watch(T.name),W.subscriptions[0].watch("Very interesting show"),W.subscriptions[0].watch(B.name),console.log(R.viewsByShowNames),console.log(R.shows),console.log(R.getMostViewedShowsOfYear(2003)),console.log(R.getMostViewedShowsOfGenre("science fiction sitcom"));
//# sourceMappingURL=index.2cc39f2f.js.map
