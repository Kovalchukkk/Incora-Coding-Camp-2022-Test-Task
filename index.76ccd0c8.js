function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=t.parcelRequire3cde;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequire3cde=r),r.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){var n=o.default(e,t,"get");return i.default(e,n)};var o=u(r("fExtF")),i=u(r("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t,n){d.default(e,t),t.set(e,n)};var c,d=(c=r("7K24o"))&&c.__esModule?c:{default:c};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t,n){var s=f.default(e,t,"set");return w.default(e,s,n),n};var f=p(r("fExtF")),w=p(r("3LGG3"));function p(e){return e&&e.__esModule?e:{default:e}}var g=new WeakMap;class m{get streamingService(){return e(a)(this,g)}watch(t){if(e(a)(this,g).shows.find((e=>e.name===t))){let n=0;if(void 0!==e(a)(this,g).viewsByShowNames.get(t))return n=e(a)(this,g).viewsByShowNames.get(t)+1,void e(a)(this,g).viewsByShowNames.set(t,n);e(a)(this,g).viewsByShowNames.set(t,1)}else console.log(`Can't find '${t}' in streaming service ${e(a)(this,g).name}`)}getRecommendationTrending(){const t=Math.floor(10*Math.random()),n=e(a)(this,g).getMostViewedShowsOfYear(2022);return void 0!==n[t]?n[t]:"There are no shows right now!"}getRecommendationByGenre(t){const n=Math.floor(10*Math.random()),s=e(a)(this,g).getMostViewedShowsOfGenre(t);return void 0!==s[n]?s[n]:"There are no shows right now!"}constructor(t){e(l)(this,g,{writable:!0,value:void 0}),e(h)(this,g,t)}}var v=new WeakMap;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t){M.default(e,t),t.add(e)};var M=function(e){return e&&e.__esModule?e:{default:e}}(r("7K24o"));var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var _=new WeakMap,S=new WeakMap,O=new WeakSet;function x(e){const t=[];for(let n of e.keys())t.push(n);return t.length>10&&(t=t.slice(0,10)),t}class T{getDuration(){}constructor(){e(D)(this,"name",void 0),e(D)(this,"genre",{}),e(D)(this,"releaseDate",void 0)}}class P extends T{getDuration(){return this.duration}constructor({name:e,genre:t,releaseDate:n,duration:s}){super(),this.name=e,this.genre[e]=t,this.releaseDate=n,this.duration=s}}var j=new WeakMap,E=new WeakSet;function k(){return e(a)(this,j).reduce(((e,t)=>e+t.duration),0)}class B extends T{getDuration(){return this.duration}constructor({name:e,releaseDate:t,duration:n}){super(),this.name=e,this.releaseDate=t,this.duration=n}}const N=new P({name:"Pirates of the Caribbean: The Curse of the Black Pearl",genre:"fantasy",releaseDate:new Date("July 9, 2003"),duration:143}),G=new P({name:"Minions: The Rise of Gru",genre:"fantasy",releaseDate:new Date("July 1, 2022"),duration:155}),R=new P({name:"Thor: Love and Thunder",genre:"fantasy",releaseDate:new Date("July 8, 2022"),duration:126}),L=new class extends T{setEpisodes(t){e(h)(this,j,[...t])}get episodes(){return e(a)(this,j)}getDuration(){return this.duration=e(b)(this,E,k).call(this),this.duration}constructor({name:t,genre:n,releaseDate:s}){super(),e(y)(this,E),e(l)(this,j,{writable:!0,value:[]}),this.name=t,this.genre[t]=n,this.releaseDate=s}}({name:"Rick and Morty",genre:"science fiction sitcom",releaseDate:new Date("December 2, 2013")}),V=[new B({name:"Pilot",releaseDate:new Date("December 2, 2013"),duration:15}),new B({name:"Lawnmower Dog",releaseDate:new Date("December 9, 2013"),duration:17}),new B({name:"Anatomy Park",releaseDate:new Date("December 16, 2013"),duration:13})];L.setEpisodes(V);const W=new class{addShow(t){e(a)(this,S).push(t)}get name(){return e(a)(this,_)}get shows(){return e(a)(this,S)}getMostViewedShowsOfYear(t){const n=e(a)(this,S).filter((e=>e.releaseDate.getFullYear()===t)),s=n.map((e=>e.name)),r=new Map;if(this.viewsByShowNames.forEach(((e,t)=>{s.includes(t)&&r.set(t,e)})),0!==r.size){const t=new Map([...r.entries()].sort(((e,t)=>t[1]-e[1]))),s=[],a=e(b)(this,O,x).call(this,t);for(let e=0;e<n.length;e++)a.includes(n[e].name)&&s.push(n[e]);return s.length>10?(s=s.slice(0,10),s):s}return"There is no shows released in this year"}getMostViewedShowsOfGenre(t){const n=e(a)(this,S).filter((e=>Object.values(e.genre)[0]===t)),s=n.map((e=>e.name)),r=new Map;if(this.viewsByShowNames.forEach(((e,t)=>{s.includes(t)&&r.set(t,e)})),0!==r.size){const t=new Map([...r.entries()].sort(((e,t)=>t[1]-e[1]))),s=[],a=e(b)(this,O,x).call(this,t);for(let e=0;e<n.length;e++)a.includes(n[e].name)&&s.push(n[e]);return s.length>10?(s=s.slice(0,10),s):s}return"There is no shows by this genre"}constructor(t){e(y)(this,O),e(l)(this,_,{writable:!0,value:void 0}),e(l)(this,S,{writable:!0,value:[]}),e(D)(this,"viewsByShowNames",new Map),e(h)(this,_,t)}}("Netflix");W.addShow(N),W.addShow(G),W.addShow(R),W.addShow(L);const C=new class{subscribe(t){if(e(a)(this,v).find((e=>e.streamingService.name===t.name)))return`You have already subscribed to ${t.name}`;const n=new m(t);return e(a)(this,v).push(n),n}get subscriptions(){return e(a)(this,v)}constructor(){e(l)(this,v,{writable:!0,value:[]})}};C.subscribe(W),console.log(C.subscribe(W)),console.log(C.subscriptions),C.subscriptions[0].watch(N.name),C.subscriptions[0].watch(N.name),C.subscriptions[0].watch(G.name),C.subscriptions[0].watch(G.name),C.subscriptions[0].watch(G.name),C.subscriptions[0].watch(R.name),C.subscriptions[0].watch(R.name),C.subscriptions[0].watch("Very interesting show"),C.subscriptions[0].watch(L.name),console.log(W.viewsByShowNames),console.log(W.shows),console.log(W.getMostViewedShowsOfYear(2003)),console.log(W.getMostViewedShowsOfGenre("science fiction sitcom")),console.log(C.subscriptions[0].getRecommendationTrending()),console.log(C.subscriptions[0].getRecommendationByGenre("fantasy"));
//# sourceMappingURL=index.76ccd0c8.js.map
